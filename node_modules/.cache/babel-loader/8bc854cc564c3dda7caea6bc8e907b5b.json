{"ast":null,"code":"var _jsxFileName = \"/Users/kordellschrock/Documents/Github/ecommerce/frontend/src/components/AddressForm/AddressForm.js\",\n    _s = $RefreshSig$();\n\nimport Button from '@material-ui/core/Button';\nimport { useState } from \"react\";\nimport { Grid, Paper, Avatar, TextField, Typography, Link } from '@material-ui/core';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { useNavigate } from \"react-router-dom\";\nimport apiClient from '../../services/apiClient';\nimport { useAppStateContext } from '../../contexts/appStateContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddressForm() {\n  _s();\n\n  const {\n    appState,\n    setAppState\n  } = useAppStateContext();\n  const navigate = useNavigate();\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [form, setForm] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    address: \"\",\n    email: \"\",\n    postal_code: \"\"\n  });\n\n  const handleOnInputChange = event => {\n    setForm(f => ({ ...f,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleOnSubmit = async () => {\n    setIsProcessing(true);\n    setErrors(e => ({ ...e,\n      form: null\n    }));\n    const {\n      data,\n      error\n    } = await apiClient.loginUser({\n      email: form.email,\n      password: form.password\n    });\n\n    if (error) {\n      setErrors(e => ({ ...e,\n        form: error\n      }));\n    }\n\n    if (data === null || data === void 0 ? void 0 : data.user) {\n      setAppState(a => ({ ...a,\n        first_name: data.user.first_name,\n        rewards: data.user.rewards,\n        last_name: data.user.last_last,\n        isAuthenticated: true,\n        email: data.user.email\n      }));\n      apiClient.setToken(data.token);\n    }\n\n    setIsProcessing(false);\n    navigate(\"/accountProfile\");\n  };\n\n  const paperStyle = {\n    padding: 20,\n    height: \"70vh\",\n    width: 280,\n    margin: \"20px auto\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 10,\n      style: paperStyle,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        align: \"center\",\n        children: \"Delivery Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: handleOnInputChange,\n        name: \"first_name\",\n        label: \"First Name\",\n        placeholder: \"Enter first name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: handleOnInputChange,\n        name: \"last_name\",\n        label: \"Last Name\",\n        placeholder: \"Enter last name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: handleOnInputChange,\n        name: \"address\",\n        label: \"Address\",\n        placeholder: \"Enter address\",\n        fullWidth: true,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: handleOnInputChange,\n        name: \"email\",\n        label: \"Email\",\n        placeholder: \"Enter email\",\n        fullWidth: true,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: handleOnInputChange,\n        name: \"postal_code\",\n        label: \"Postal Code\",\n        placeholder: \"Enter postal code\",\n        fullWidth: true,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddressForm, \"Bs8LHQIJIhc6sHzcMQEKcW+waOc=\", false, function () {\n  return [useAppStateContext, useNavigate];\n});\n\n_c = AddressForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddressForm\");","map":{"version":3,"sources":["/Users/kordellschrock/Documents/Github/ecommerce/frontend/src/components/AddressForm/AddressForm.js"],"names":["Button","useState","Grid","Paper","Avatar","TextField","Typography","Link","FormControlLabel","Checkbox","LockOutlinedIcon","useNavigate","apiClient","useAppStateContext","AddressForm","appState","setAppState","navigate","isProcessing","setIsProcessing","errors","setErrors","form","setForm","first_name","last_name","address","email","postal_code","handleOnInputChange","event","f","target","name","value","handleOnSubmit","e","data","error","loginUser","password","user","a","rewards","last_last","isAuthenticated","setToken","token","paperStyle","padding","height","width","margin"],"mappings":"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","sourcesContent":["import Button from '@material-ui/core/Button';\nimport { useState } from \"react\"\nimport { Grid, Paper ,Avatar, TextField, Typography, Link} from '@material-ui/core';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { useNavigate } from \"react-router-dom\";\nimport apiClient from '../../services/apiClient';\nimport { useAppStateContext } from '../../contexts/appStateContext';\n\n\nexport default function AddressForm(){\n    const { appState, setAppState} = useAppStateContext()\n    const navigate = useNavigate()\n    const [isProcessing, setIsProcessing] = useState(false)\n    const [errors, setErrors] = useState({})\n    const [form, setForm] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    address:\"\",\n    email:\"\",\n    postal_code:\"\"\n  })\n\n    const handleOnInputChange = (event) => {\n        setForm((f) => ({ ...f, [event.target.name]: event.target.value }))\n    }\n\n    const handleOnSubmit = async () => {\n        setIsProcessing(true)\n        setErrors((e) => ({ ...e, form: null }))\n\n        const {data, error } = await apiClient.loginUser({email: form.email, password: form.password})\n        if (error){\n          setErrors((e) => ({ ...e, form:error}))\n        }\n        if (data?.user){\n            setAppState((a) => (\n                {\n                    ...a, \n                    first_name: data.user.first_name,\n                    rewards:data.user.rewards,\n                    last_name:data.user.last_last,\n                    isAuthenticated: true,\n                    email:data.user.email\n                }\n                ))\n          apiClient.setToken(data.token)\n        }\n        setIsProcessing(false)\n        navigate(\"/accountProfile\")\n      }\n\n    const paperStyle = {\n        padding:20,\n        height:\"70vh\",\n        width:280,\n        margin:\"20px auto\"\n    }\n    return(\n        <div>\n            <Paper elevation = {10} style= {paperStyle}>\n                <Typography variant=\"h6\" align=\"center\">Delivery Information</Typography>\n                <TextField  \n                    onChange={handleOnInputChange} \n                    name =\"first_name\"\n                    label = \"First Name\" \n                    placeholder = \"Enter first name\"  \n                    required\n                />\n                <TextField \n                    onChange={handleOnInputChange} \n                    name =\"last_name\"\n                    label = \"Last Name\" \n                    placeholder = \"Enter last name\"   \n                    required\n                />\n                <TextField \n                    onChange={handleOnInputChange} \n                    name =\"address\"\n                    label = \"Address\" \n                    placeholder = \"Enter address\" \n                    fullWidth \n                    required\n                />\n                <TextField \n                    onChange={handleOnInputChange} \n                    name =\"email\"\n                    label = \"Email\" \n                    placeholder = \"Enter email\" \n                    fullWidth \n                    required\n                />\n                <TextField \n                    onChange={handleOnInputChange} \n                    name =\"postal_code\"\n                    label = \"Postal Code\" \n                    placeholder = \"Enter postal code\" \n                    fullWidth \n                    required\n                />\n            </Paper>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}