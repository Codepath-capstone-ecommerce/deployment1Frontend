{"ast":null,"code":"var _jsxFileName = \"/Users/kordellschrock/Documents/Github/ecommerce/frontend/src/components/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport Button from '@material-ui/core/Button';\nimport { useState } from \"react\";\nimport { Grid, Paper, Avatar, TextField, Typography, Link } from '@material-ui/core';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { useNavigate } from \"react-router-dom\";\nimport apiClient from '../../services/apiClient';\nimport { useAppStateContext } from '../../contexts/appStateContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const {\n    appState,\n    setAppState\n  } = useAppStateContext();\n  const navigate = useNavigate();\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleOnInputChange = event => {\n    setForm(f => ({ ...f,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleOnSubmit = async () => {\n    setIsProcessing(true);\n    setErrors(e => ({ ...e,\n      form: null\n    }));\n    const {\n      data,\n      error\n    } = await apiClient.loginUser({\n      email: form.email,\n      password: form.password\n    });\n\n    if (error) {\n      setErrors(e => ({ ...e,\n        form: error\n      }));\n    }\n\n    if (data === null || data === void 0 ? void 0 : data.user) {\n      setAppState(a => ({ ...a,\n        user: data.user,\n        isAuthenticated: true\n      }));\n      apiClient.setToken(data.token);\n    }\n\n    setIsProcessing(false);\n    navigate(\"/accountProfile\");\n  };\n\n  const paperStyle = {\n    padding: 20,\n    height: \"70vh\",\n    width: 280,\n    margin: \"20px auto\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 10,\n      style: paperStyle,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: handleOnInputChange,\n        name: \"email\",\n        label: \"email\",\n        placeholder: \"Enter email\",\n        fullWidth: true,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: handleOnInputChange,\n        name: \"password\",\n        label: \"Password\",\n        placeholder: \"Enter password\",\n        type: \"password\",\n        fullWidth: true,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n        control: /*#__PURE__*/_jsxDEV(Checkbox // checked={state.checkedB}\n        // onChange={handleChange}\n        , {\n          name: \"checkedB\",\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this),\n        label: \"Remember Me\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleOnSubmit,\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [\"Do you have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"JghR0XkTMSQDZgWOBc48jHR5nG0=\", false, function () {\n  return [useAppStateContext, useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/kordellschrock/Documents/Github/ecommerce/frontend/src/components/Login/Login.js"],"names":["Button","useState","Grid","Paper","Avatar","TextField","Typography","Link","FormControlLabel","Checkbox","LockOutlinedIcon","useNavigate","apiClient","useAppStateContext","Login","appState","setAppState","navigate","isProcessing","setIsProcessing","errors","setErrors","form","setForm","email","password","handleOnInputChange","event","f","target","name","value","handleOnSubmit","e","data","error","loginUser","user","a","isAuthenticated","setToken","token","paperStyle","padding","height","width","margin"],"mappings":"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","sourcesContent":["import Button from '@material-ui/core/Button';\nimport { useState } from \"react\"\nimport { Grid, Paper ,Avatar, TextField, Typography, Link} from '@material-ui/core';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { useNavigate } from \"react-router-dom\";\nimport apiClient from '../../services/apiClient';\nimport { useAppStateContext } from '../../contexts/appStateContext';\n\n\nexport default function Login(){\n    const { appState, setAppState} = useAppStateContext()\n    const navigate = useNavigate()\n    const [isProcessing, setIsProcessing] = useState(false)\n    const [errors, setErrors] = useState({})\n    const [form, setForm] = useState({\n    email: \"\",\n    password: \"\",\n  })\n\n    const handleOnInputChange = (event) => {\n        setForm((f) => ({ ...f, [event.target.name]: event.target.value }))\n    }\n\n    const handleOnSubmit = async () => {\n        setIsProcessing(true)\n        setErrors((e) => ({ ...e, form: null }))\n\n        const {data, error } = await apiClient.loginUser({email: form.email, password: form.password})\n        if (error){\n          setErrors((e) => ({ ...e, form:error}))\n        }\n        if (data?.user){\n            setAppState((a) => (\n                {\n                    ...a, user: data.user,isAuthenticated: true\n                }\n                ))\n          apiClient.setToken(data.token)\n        }\n        setIsProcessing(false)\n        navigate(\"/accountProfile\")\n      }\n\n    const paperStyle = {\n        padding:20,\n        height:\"70vh\",\n        width:280,\n        margin:\"20px auto\"\n    }\n    return(\n        <div>\n            <Paper elevation = {10} style= {paperStyle}>\n                <Grid align = \"center\">\n                    <Avatar>\n                        <LockOutlinedIcon/>\n                    </Avatar>\n                    <h2>\n                        Sign In\n                    </h2>\n                </Grid>\n                <TextField  \n                    onChange={handleOnInputChange} \n                    name =\"email\"\n                    label = \"email\" \n                    placeholder = \"Enter email\" \n                    fullWidth \n                    required\n                />\n                <TextField \n                    onChange={handleOnInputChange} \n                    name =\"password\"\n                    label = \"Password\" \n                    placeholder = \"Enter password\" \n                    type = \"password\" \n                    fullWidth \n                    required\n                />\n                <FormControlLabel\n                    control={\n                    <Checkbox\n                        // checked={state.checkedB}\n                        // onChange={handleChange}\n                        name=\"checkedB\"\n                        color=\"primary\"\n                    />\n                    }\n                    label=\"Remember Me\"\n                />\n                <Button \n                    onClick ={handleOnSubmit}\n                    type = 'submit' \n                    variant = \"contained\" \n                    color = 'primary' \n                    fullWidth\n                    >Sign in\n                </Button>\n                <Typography>\n                    Do you have an account?\n                    <Link href =\"/signup\">\n                        Sign Up\n                    </Link>\n                </Typography>\n                \n            </Paper>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}