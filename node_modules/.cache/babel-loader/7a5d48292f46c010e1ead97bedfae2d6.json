{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kordellschrock/Documents/Github/deployment1Frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kordellschrock/Documents/Github/deployment1Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kordellschrock/Documents/Github/deployment1Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import MenuCard from\"../MenuCard/MenuCard\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{Button,colors,ListItem,ListItemText,List,Card,CardActions,Box}from\"@material-ui/core\";import{Grid}from\"@material-ui/core\";import{makeStyles}from'@material-ui/core/styles';import NavBar from\"../NavBar/NavBar\";import{useNavigate}from\"react-router-dom\";import{useAppStateContext}from'../../contexts/appStateContext';import apiClient from'../../services/apiClient';//class should import appstate that contains products\n//loop through each product to create a menucard\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Menu(){var _useAppStateContext=useAppStateContext(),appState=_useAppStateContext.appState,setAppState=_useAppStateContext.setAppState;var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),products=_useState6[0],setProduct=_useState6[1];var _useState7=useState({\"Pizza\":false,\"Drink\":false,\"misc\":false}),_useState8=_slicedToArray(_useState7,2),active=_useState8[0],setActive=_useState8[1];var categories=['Pizza','Drink','misc'];var checkout=function checkout(){navigate('/cart');};var getCat=function getCat(e){var obj={};for(var _i=0,_Object$entries=Object.entries(active);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];if(key===e.target.innerHTML){obj[key]=true;}else{obj[key]=false;}}setActive(obj);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _productRes$data,productRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return apiClient.fetchProductsByCategory({category:e.target.innerHTML});case 3:productRes=_context.sent;if(productRes===null||productRes===void 0?void 0:(_productRes$data=productRes.data)===null||_productRes$data===void 0?void 0:_productRes$data.products){setProduct(productRes.data.products);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _productRes$data2,productRes;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);_context2.prev=1;_context2.next=4;return axios.get(\"http://localhost:3001/products/list\");case 4:productRes=_context2.sent;if(productRes===null||productRes===void 0?void 0:(_productRes$data2=productRes.data)===null||_productRes$data2===void 0?void 0:_productRes$data2.products){setProduct(productRes.data.products);}_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log({err:_context2.t0});setError(_context2.t0);case 12:setIsLoading(false);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);// console.log(active)\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-around\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:3,children:categories.map(function(cat,idx){return/*#__PURE__*/_jsx(Box,{my:2,children:/*#__PURE__*/_jsx(Card,{children:active[cat]?/*#__PURE__*/_jsx(CardActions,{style:{backgroundColor:\"#2ed9fb\"},children:/*#__PURE__*/_jsx(Button,{onClick:getCat,children:cat})}):/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Button,{onClick:getCat,children:cat})})},idx)});})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:8,container:true,children:products.map(function(product,idx){return/*#__PURE__*/_jsx(Box,{mx:2,children:/*#__PURE__*/_jsx(MenuCard,{product:product},idx)});})})]})]});}","map":{"version":3,"sources":["/Users/kordellschrock/Documents/Github/deployment1Frontend/src/components/Menu/Menu.js"],"names":["MenuCard","axios","useState","useEffect","Button","colors","ListItem","ListItemText","List","Card","CardActions","Box","Grid","makeStyles","NavBar","useNavigate","useAppStateContext","apiClient","Menu","appState","setAppState","navigate","error","setError","isLoading","setIsLoading","products","setProduct","active","setActive","categories","checkout","getCat","e","obj","Object","entries","key","value","target","innerHTML","fetchData","fetchProductsByCategory","category","productRes","data","get","console","log","err","map","cat","idx","backgroundColor","product"],"mappings":"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","sourcesContent":["import MenuCard from \"../MenuCard/MenuCard\"\nimport axios from \"axios\"\nimport { useState, useEffect } from \"react\"\nimport { Button, colors, ListItem, ListItemText, List, Card, CardActions, Box } from \"@material-ui/core\"\nimport { Grid } from \"@material-ui/core\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport NavBar from \"../NavBar/NavBar\"\nimport { useNavigate } from \"react-router-dom\";\nimport { useAppStateContext } from '../../contexts/appStateContext';\nimport apiClient from '../../services/apiClient';\n\n\n//class should import appstate that contains products\n//loop through each product to create a menucard\nexport default function Menu() {\n    const { appState, setAppState } = useAppStateContext()\n    const navigate = useNavigate()\n    const [error, setError] = useState(null)\n    const [isLoading, setIsLoading] = useState(false)\n    const [products, setProduct] = useState([])\n    const [active, setActive] = useState({\n        \"Pizza\":false,\n        \"Drink\":false,\n        \"misc\":false\n    })\n    const categories = ['Pizza', 'Drink', 'misc']\n    const checkout = () => {\n        navigate('/cart')\n    }\n\n    const getCat = (e) => {\n        let obj = {}\n        for (const [key, value] of Object.entries(active)) {\n            if( key === e.target.innerHTML){\n                obj[key] = true\n            }\n            else{\n                obj[key] = false\n            }\n        }\n        setActive(obj)\n        const fetchData = async () => {\n            try {\n                const productRes = await apiClient.fetchProductsByCategory({ category: e.target.innerHTML })\n                if (productRes?.data?.products) {\n                    setProduct(productRes.data.products)\n                }\n            } catch (err) {\n                setError(err)\n            }\n        }\n        fetchData()\n    }\n\n    useEffect(() => {\n        const fetchData = async () => {\n            setIsLoading(true)\n            try {\n                const productRes = await axios.get(\"http://localhost:3001/products/list\")\n                if (productRes?.data?.products) {\n                    setProduct(productRes.data.products)\n                }\n\n            } catch (err) {\n                console.log({ err })\n                setError(err)\n            }\n\n            setIsLoading(false)\n        }\n\n        fetchData()\n    }, [])\n\n    \n    // console.log(active)\n    return (\n        <div>\n            <NavBar></NavBar>\n            <br></br>\n            <Grid container justifyContent=\"space-around\">\n                <Grid item xs={3}>\n                    {categories.map((cat, idx) => (\n                        <Box my={2}>\n                            <Card key={idx}>\n                                {active[cat] ?\n                                    <CardActions style={{ backgroundColor: \"#2ed9fb\" }}>\n                                        <Button onClick={getCat}>{cat}</Button>\n                                    </CardActions> :\n                                    <CardActions>\n                                        <Button onClick={getCat}>{cat}</Button>\n                                    </CardActions>}\n                            </Card>\n                        </Box>\n                    ))}\n                </Grid>\n                <Grid\n                    item\n                    xs={8}\n                    container\n                >\n                    {products.map((product, idx) => (\n                        <Box mx={2}>\n                            <MenuCard product={product} key={idx} />\n                        </Box>\n                    ))}\n                </Grid>\n            </Grid>\n        </div>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}